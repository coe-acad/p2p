{
  "context": {
    "version": "2.0.0",
    "action": "on_init",
    "domain": "beckn.one:deg:p2p-enrollment:2.0.0",
    "timestamp": "2024-10-15T10:30:05Z",
    "message_id": "msg-on-init-consumer-001",
    "transaction_id": "txn-onboard-consumer-001",
    "bap_id": "utility-portal.example.com",
    "bap_uri": "https://utility-portal.example.com/beckn",
    "bpp_id": "vpp-program-owner.example.com",
    "bpp_uri": "https://vpp-program-owner.example.com/beckn",
    "ttl": "PT30S"
  },
  "message": {
    "order": {
      "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/p2p-trading/schema/core/v2/context.jsonld",
      "@type": "beckn:Order",
      "beckn:id": "order-onboard-consumer-001",
      "beckn:orderStatus": "PENDING",
      "beckn:seller": "vpp-program-flex-001",
      "beckn:buyer": {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/p2p-trading/schema/core/v2/context.jsonld",
        "@type": "beckn:Buyer",
        "beckn:id": "did:example:user-12345"
      },
      "beckn:orderItems": [
        {
          "beckn:orderedItem": "program-flex-demand-response-001"
        }
      ],
      "beckn:fulfillment": {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/p2p-trading/schema/core/v2/context.jsonld",
        "@type": "beckn:Fulfillment",
        "beckn:id": "fulfillment-onboard-001",
        "beckn:mode": "DIGITAL",
        "beckn:fulfillmentStatus": "PENDING"
      },
      "beckn:orderAttributes": {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/p2p-trading/schema/EnergyEnrollment/v0.2/context.jsonld",
        "@type": "EnergyEnrollment",
        "credentialVerification": {
          "status": "VERIFIED",
          "verifiedCredentials": [
            {
              "credentialId": "vc-meter-ownership-001",
              "status": "VERIFIED",
              "verifiedAt": "2024-10-15T10:30:05Z"
            },
            {
              "credentialId": "vc-program-eligibility-001",
              "status": "VERIFIED",
              "verifiedAt": "2024-10-15T10:30:05Z"
            }
          ]
        },
        "conflictCheck": {
          "hasConflict": false,
          "checkedAt": "2024-10-15T10:30:05Z",
          "message": "No conflicts found with existing enrollments"
        },
        "requiredCredentials": [
          {
            "type": "MeterOwnershipCredential",
            "description": "Proof of meter ownership verified through utility OTP verification",
            "status": "PROVIDED"
          },
          {
            "type": "ProgramEligibilityCredential",
            "description": "Proof of program eligibility based on meter type and location",
            "status": "PROVIDED"
          }
        ],
        "requiredConsents": [
          {
            "type": "DATA_COLLECTION",
            "description": "Consent to collect and share meter data for program participation",
            "required": true
          },
          {
            "type": "DER_CONTROL",
            "description": "Consent to control DER devices for demand response (if applicable)",
            "required": false
          },
          {
            "type": "CROSS_UTILITY_SHARING",
            "description": "Consent to share data across utilities (if applicable)",
            "required": false
          }
        ]
      }
    }
  }
}
